<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Voidscape</title>
  </head>
  <body>
    <div class="preloader">
      <div class="intro-title">
        <h1>Voidscape Studio</h1>
      </div>
      <div class="outro-title">
        <h1>09</h1>
      </div>
    </div>
    <div class="split-overlay">
      <div class="intro-title">
        <h1>Voidscape Studio</h1>
      </div>
      <div class="outro-title">
        <h1>09</h1>
      </div>
    </div>
    <div class="tags">
      <div class="tag t1"><p>Distortion</p></div>
      <div class="tag t2"><p>Negativity</p></div>
      <div class="tag t3"><p>Void Form</p></div>
    </div>

    <div class="container">
      <nav>
        <p id="logo">SvS</p>
        <p>Menu</p>
      </nav>
      <div class="hero"><img src="./void.jpg" alt="Fuck You" /></div>

      <div class="card">
        <h1>Nullscape</h1>
      </div>
      <footer>
        <p>Made with ❤️</p>
      </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/CustomEase.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.13.0/SplitText.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        gsap.registerPlugin(CustomEase);

        CustomEase.create("hop", ".8, 0, .3, 1");

        const splitTextElements = (
          selector,
          type = "words,chars",
          addFirstChar = false
        ) => {
          const elements = document.querySelectorAll(selector);
          elements.forEach((element) => {
            const mySplit = new SplitText(element, {
              type,
              wordsClass: "word",
              charsClass: "char",
            });

            if (type.includes("chars")) {
              mySplit.chars.forEach((char, index) => {
                const originalText = char.textContent;
                char.innerHTML = `<span>${originalText}</span>`;

                if (addFirstChar && index === 0) {
                  char.classList.add("first-char");
                }
              });
            }
          });
        };

        splitTextElements(".intro-title h1", "words, chars", true);
        splitTextElements(".outro-title h1");
        splitTextElements(".tag p", "words");
        splitTextElements(".card h1", "words, chars", true);

        const isMobile = window.innerWidth <= 1000;

        gsap.set(
          [
            ".split-overlay .intro-title .first-char span",
            ".split-overlay .outro-title .char span",
          ],
          { y: "0%" }
        );

        gsap.set(".split-overlay .intro-title .first-char", {
          x: isMobile ? "7.5rem" : "18rem",
          y: isMobile ? "-1rem" : "-2.75rem",
          fontWeight: "900",
          scale: 0.75,
        });

        gsap.set(".split-overlay .outro-title .char", {
          x: isMobile ? "-3rem" : "-8rem",
          fontSize: isMobile ? "6rem" : "14rem",
          fontWeight: "500",
        });

        const tl = gsap.timeline({
          defaults: { ease: "hop" },
        });
        const tags = gsap.utils.toArray(".tag");

        tags.forEach((tag, index) => {
          tl.to(
            tag.querySelectorAll("p .word"),
            {
              y: "0%",
              duration: 0.75,
            },
            0.5 + index * 0.1
          );
        });

        tl.to(
          ".preloader .intro-title .char span",
          {
            y: "0%",
            duration: 0.75,
            stagger: 0.05,
          },
          0.5
        )
          .to(
            ".preloader .intro-title .char:not(.first-char) span",
            {
              y: "100%",
              duration: 0.75,
              stagger: 0.05,
            },
            2
          )
          .to(
            ".preloader .outro-title .char span",
            {
              y: "0%",
              duration: 0.75,
              stagger: 0.075,
            },
            2.5
          )
          .to(
            ".preloader .intro-title .first-char",
            {
              x: isMobile ? "9rem" : "21rem",
              duration: 1,
            },
            3.5
          )
          .to(
            ".preloader .outro-title .char",
            {
              x: isMobile ? "-4.5rem" : "-12rem",
              duration: 1,
            },
            3.5
          // )
          // .to(
          //   ".preloader .intro-title .first-char",
          //   {
          //     x: isMobile ? "7rem" : "18rem",
          //     y: isMobile ? "-1rem" : "-2.75rem",
          //     fontWeight: "900",
          //     scale: 0.75,
          //     duration: 0.75,
          //   },
          //   4.5
          
          
          );
      });
    </script>
  </body>
</html>
